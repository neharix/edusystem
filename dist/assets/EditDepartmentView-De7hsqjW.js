import{X as k,r as b,o as w,E as V,f as g,j as n,d as e,w as E,g as d,F as K,b as f,l as j,n as l,t as c,z as F,B as z}from"./index-BXQ0jDXa.js";import{_ as B}from"./TheBreadcrumb-Bbvhun_E.js";import{c as N,a as v,F as $,b as y}from"./index.esm-D8GQyW7C.js";const C={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#171131ef]"},D={class:"grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 gap-4"},S={class:"lg:col-span-2 md:col-span-2 lg:col-span-1"},q={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},U={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},A={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},M=["disabled"],P={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},I={__name:"EditDepartmentView",setup(R){const u=V(),o=k(),i=b(""),m=b(""),h=N().shape({name:v().trim().required("Kafedranyň ady hökman girizilmeli"),abbreviation:v().trim().required("Kafedranyň gysgaltmasy hökman girizilmeli")});function x(p,{setErrors:a}){const{name:t,abbreviation:s}=p;return o.put(u.params.id,{name:t,abbreviation:s}).then(()=>{z.go(-1)}).catch(r=>a({apiError:r}))}const _=[{path:"/departments",name:"Kafedralar"},{path:"/departments/edit",name:"Üýtgetmek",current:!0}];return w(()=>{o.get(u.params.id).then(()=>{i.value=o.department.name,m.value=o.department.abbreviation})}),(p,a)=>(f(),g(K,null,[n(B,{paths:_}),e("div",C,[a[2]||(a[2]=e("h3",{class:"text-xl font-bold mx-2 select-none"},"Kafedrany üýtgetmek",-1)),n(d($),{onSubmit:x,"validation-schema":d(h),class:"space-y-4 my-4"},{default:E(({errors:t,isSubmitting:s})=>[e("div",D,[e("div",S,[n(d(y),{name:"name",type:"text",id:"name",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=r=>i.value=r),class:l(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.name}]),placeholder:"Kafedranyň ady"},null,8,["modelValue","class"]),e("div",q,c(t.name),1)]),e("div",null,[n(d(y),{name:"abbreviation",type:"text",id:"abbreviation",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=r=>m.value=r),class:l(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.abbreviation}]),placeholder:"Kafedranyň gysgaltmasy"},null,8,["modelValue","class"]),e("div",U,c(t.abbreviation),1)])]),e("div",A,[e("button",{disabled:s,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50"},[n(F,{class:l({hidden:!s})},null,8,["class"]),e("span",{class:l({hidden:s})},"Üýtget",2)],8,M)]),t.apiError?(f(),g("div",P,c(t.apiError),1)):j("",!0)]),_:1},8,["validation-schema"])])],64))}};export{I as default};
