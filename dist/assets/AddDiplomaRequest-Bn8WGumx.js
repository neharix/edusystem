import{c as D,d as b,F as V,b as h}from"./index.esm-DoS_w8Tg.js";import{L as A,s as E,r as f,$ as T,B as y,i as q,f as v,j as t,d as e,w as B,g as d,F as C,b as x,l as F,n as r,t as s,z as S}from"./index-BEcAhmBe.js";import{_ as $}from"./TheBreadcrumb-Bryl08sX.js";const j={class:"tile"},R={class:"w-full"},M={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},N={class:"w-full"},H={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},U={class:"block md:hidden"},L={class:"text-center select-none"},P={class:"flex flex-wrap justify-center md:justify-end items-center"},Q={class:"mr-8 text-center hidden md:block select-none"},G=["disabled"],I={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},X={__name:"AddDiplomaRequest",setup(J){const m=A(),{diplomaRequestAdvanced:g}=E(m),k=[{path:"/diplomas",name:"Diplomlar"},{path:"/diplomas/add",name:"Hasabat döretmek"}],n=f(0),i=f(0),w=D().shape({simple_diploma_count:b().typeError("Adaty diplom sany hökman girizilmeli").min(0,"San otrisatel bolup bilmez").required("Adaty diplom sany hökman girizilmeli"),honor_diploma_count:b().typeError('"Tapawutlanan" diplom sany hökman girizilmeli').min(0,"San otrisatel bolup bilmez").required('"Tapawutlanan" diplom sany hökman girizilmeli')});T(()=>{m.getDiplomaRequestAdvanced().then(()=>{g.value.null||y.push("/diplomas")})});function z(c,{setErrors:a}){const{simple_diploma_count:o,honor_diploma_count:l}=c;return m.create({simple_diploma_count:o,honor_diploma_count:l}).then(()=>{y.push("/diplomas")}).catch(_=>a({apiError:_}))}const p=q(()=>(n.value?n.value:0)+(i.value?i.value:0));return(c,a)=>(x(),v(C,null,[t($,{paths:k}),e("div",j,[a[4]||(a[4]=e("h3",{class:"text-xl font-bold mx-2 select-none"},"Täze diplom hasabatyny hasaba almak",-1)),t(d(V),{onSubmit:z,"validation-schema":d(w),"initial-values":{simple_diploma_count:0,honor_diploma_count:0},class:"space-y-4 my-4"},{default:B(({errors:o,isSubmitting:l,values:_})=>[e("div",R,[a[2]||(a[2]=e("label",{class:"info-label",for:"simple-diploma-count"},"Adaty diplom sany",-1)),t(d(h),{name:"simple_diploma_count",type:"number",id:"simple-diploma-count",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value=u),modelModifiers:{number:!0},class:r(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.simple_diploma_count}]),placeholder:"Adaty diplom sany"},null,8,["modelValue","class"]),e("div",M,s(o.simple_diploma_count),1)]),e("div",N,[a[3]||(a[3]=e("label",{class:"info-label",for:"honor-diploma-count"},'"Tapawutlanan" diplom sany',-1)),t(d(h),{name:"honor_diploma_count",type:"number",id:"honor-diploma-count",modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=u=>i.value=u),modelModifiers:{number:!0},class:r(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.honor_diploma_count}]),placeholder:'"Tapawutlanan" diplom sany'},null,8,["modelValue","class"]),e("div",H,s(o.honor_diploma_count),1)]),e("div",U,[e("p",L,"Diplom sany: "+s(p.value),1)]),e("div",P,[e("p",Q,"Diplom sany: "+s(p.value),1),e("button",{disabled:l,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50 select-none"},[t(S,{class:r({hidden:!l})},null,8,["class"]),e("span",{class:r({hidden:l})},"Hasaba al",2)],8,G)]),o.apiError?(x(),v("div",I,s(o.apiError),1)):F("",!0)]),_:1},8,["validation-schema"])])],64))}};export{X as default};
