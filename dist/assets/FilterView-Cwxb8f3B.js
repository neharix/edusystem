import{_ as F,r as h,i as B,o as N,Q as I,f as m,d as e,j as u,m as L,F as f,G as k,k as J,t as z,R as D,J as W,w as _,l as O,n as A,T as E,b as d,S as G,p as K,s as R,x as q,$ as P,g as r,W as Q,c as H,M as j}from"./index-CmSfQP63.js";import{_ as Y}from"./TheBreadcrumb-DgPM7g-u.js";const X={class:"relative w-full multi-select"},Z=["onClick"],ee={key:0,class:"absolute z-10 w-full bg-white dark:bg-[#171131] border border-gray-300 dark:border-gray-800 rounded-md shadow-md max-h-48 overflow-y-auto"},te=["onMousedown"],ae={key:0,class:"px-3 py-2 text-gray-500 select-none"},le={__name:"MultipleSelect",props:{data:Array,emptyLabel:String},emits:["update"],setup(M,{emit:b}){const o=M,s=b,a=h(""),y=h(new Set),v=h(!1),w=B(()=>{const n=a.value.toLowerCase();return o.data.filter(g=>g.name.toLowerCase().includes(n))}),S=async n=>{y.value.has(n.id)?y.value.delete(n.id):y.value.add(n.id),s("update",Array.from(y.value)),a.value="",await G(),v.value=!1},C=B(()=>o.data.filter(n=>y.value.has(n.id))),x=n=>{n.target.closest(".multi-select")||(v.value=!1)};N(()=>{document.addEventListener("mousedown",x)}),I(()=>{document.removeEventListener("mousedown",x)});const U=()=>{v.value=!0};function $(n){y.value.delete(n),s("update",Array.from(y.value))}return(n,g)=>(d(),m("div",null,[e("div",X,[e("div",{class:"flex flex-wrap items-center gap-2 border border-gray-300 rounded-md px-2 py-1 cursor-text",onClick:U},[(d(!0),m(f,null,k(C.value,i=>(d(),m("div",{key:i.id,class:"flex items-center bg-blue-100 dark:bg-violet-600 text-blue-700 dark:text-white rounded-md px-2 py-1 text-sm select-none cursor-default"},[J(z(i.name)+" ",1),e("button",{onClick:D(T=>$(i.id),["stop","prevent"]),class:"ml-1 text-blue-700 dark:text-white focus:outline-none select-none"}," ✕ ",8,Z)]))),128)),L(e("input",{"onUpdate:modelValue":g[0]||(g[0]=i=>a.value=i),type:"text",placeholder:"",class:"flex-1 py-1 focus:outline-none"},null,512),[[W,a.value]])]),u(E,{name:"dropdown"},{default:_(()=>[v.value?(d(),m("ul",ee,[(d(!0),m(f,null,k(w.value,i=>(d(),m("li",{key:i.id,onMousedown:D(T=>S(i),["prevent"]),class:A({"px-3 py-2 cursor-pointer select-none transition ease-in duration-200":!0,"bg-blue-100 text-blue-700 dark:bg-violet-600/25 dark:text-white":y.value.has(i.id),"hover:bg-blue-50 dark:hover:bg-[#261c52]":!y.value.has(i.id)})},z(i.name),43,te))),128)),w.value.length===0?(d(),m("li",ae,z(M.emptyLabel),1)):O("",!0)])):O("",!0)]),_:1})])]))}},c=F(le,[["__scopeId","data-v-a811aede"]]),se={class:"w-full grid grid-cols-1 md:grid-cols-3 gap-8"},oe={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},ne={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},re={class:"tile my-8"},de={class:"my-6"},ie={class:"my-6"},ue={class:"my-6"},pe={class:"my-6"},ye={class:"my-6"},ce={class:"my-6"},me={class:"my-6"},ve={class:"my-6"},ge={class:"my-6"},fe={class:"my-6"},be={class:"my-6"},ke={class:"my-6"},he={__name:"FilterView",setup(M){const b=h(0),o=K(),{data:s,filterOptions:a}=R(o),y=[{path:"/filter",name:"Süzgüç"}];q(s,l=>{console.log(l)});function v(l){a.value.high_schools=l,o.post(a.value)}function w(l){a.value.faculties=l,o.post(a.value)}function S(l){a.value.departments=l,o.post(a.value)}function C(l){a.value.specializations=l,o.post(a.value)}function x(l){a.value.study_years=l,o.post(a.value)}function U(l){a.value.degrees=l,o.post(a.value)}function $(l){a.value.payment_types=l,o.post(a.value)}function n(l){a.value.genders=l,o.post(a.value)}function g(l){a.value.nationalities=l,o.post(a.value)}function i(l){a.value.countries=l,o.post(a.value)}function T(l){a.value.regions=l,o.post(a.value)}function V(){a.value.military_service=b.value,o.post(a.value)}return P(()=>{a.value={high_schools:[],faculties:[],departments:[],specializations:[],study_years:[],degrees:[],payment_types:[],genders:[],nationalities:[],regions:[],countries:[],military_service:0},sessionStorage.setItem("filterOptions",JSON.stringify(a.value))}),(l,t)=>(d(),m(f,null,[u(Y,{paths:y}),t[19]||(t[19]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Talyplar",-1)),e("div",se,[(d(!0),m(f,null,k(r(s).students,p=>(d(),H(j,{label:p.name,"data-value":p.count,link:`/filter/detail?gender=${p.query}`,"icon-bg-class":"bg-sky-200 dark:bg-sky-500/75"},{default:_(()=>t[1]||(t[1]=[e("svg",{class:"w-6 h-8 stroke-sky-500 dark:stroke-sky-900",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1)])),_:2},1032,["label","data-value","link"]))),256))]),t[20]||(t[20]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Welaýatlar boýunça",-1)),e("div",oe,[(d(!0),m(f,null,k(r(s).regions,p=>(d(),H(j,{label:p.name,"data-value":p.count,link:`/filter/detail?region=${p.id}`,"icon-bg-class":"bg-red-200 dark:bg-red-500/75"},{default:_(()=>t[2]||(t[2]=[e("svg",{class:"w-6 h-8 stroke-red-500 dark:stroke-red-900",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e("circle",{cx:"12",cy:"10",r:"3"})],-1)])),_:2},1032,["label","data-value","link"]))),256))]),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Hünär derejeleri boýunça",-1)),e("div",ne,[(d(!0),m(f,null,k(r(s).degrees_output,p=>(d(),H(j,{label:p.name,"data-value":p.count,"icon-bg-class":"bg-yellow-200 dark:bg-yellow-500/75"},{default:_(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 stroke-yellow-500 dark:stroke-yellow-900",viewBox:"0 0 24 24",fill:"transparent",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"14",width:"7",height:"7"}),e("rect",{x:"3",y:"14",width:"7",height:"7"})],-1)])),_:2},1032,["label","data-value"]))),256))]),e("div",re,[t[17]||(t[17]=e("h3",{class:"text-xl font-semibold mx-2 mb-4 mt-2 select-none"},"Gözleg gurallary",-1)),t[18]||(t[18]=e("hr",{class:"border-gray-200 dark:border-gray-800"},null,-1)),e("div",de,[t[4]||(t[4]=e("p",{class:"info-label"},"Ýokary okuw mekdep",-1)),u(c,{data:r(s).high_schools,onUpdate:v,"empty-label":"Maglumat gorunda ýokary okuw mekdep tapylmady"},null,8,["data"])]),e("div",ie,[t[5]||(t[5]=e("p",{class:"info-label"},"Fakultet",-1)),u(c,{data:r(s).faculties,onUpdate:w,"empty-label":"Maglumat gorunda fakultet tapylmady"},null,8,["data"])]),e("div",ue,[t[6]||(t[6]=e("p",{class:"info-label"},"Kafedra",-1)),u(c,{data:r(s).departments,onUpdate:S,"empty-label":"Maglumat gorunda kafedra tapylmady"},null,8,["data"])]),e("div",pe,[t[7]||(t[7]=e("p",{class:"info-label"},"Hünär",-1)),u(c,{data:r(s).specializations,onUpdate:C,"empty-label":"Maglumat gorunda hünär tapylmady"},null,8,["data"])]),e("div",ye,[t[8]||(t[8]=e("p",{class:"info-label"},"Kursy",-1)),u(c,{data:r(s).study_years,onUpdate:x,"empty-label":"Kurs tapylmady"},null,8,["data"])]),e("div",ce,[t[9]||(t[9]=e("p",{class:"info-label"},"Hünär derejesi",-1)),u(c,{data:r(s).degrees,onUpdate:U,"empty-label":"Hünär derejesi tapylmady"},null,8,["data"])]),e("div",me,[t[10]||(t[10]=e("p",{class:"info-label"},"Töleg görnüşi",-1)),u(c,{data:r(s).payment_types,onUpdate:$,"empty-label":"Töleg görnüşi tapylmady"},null,8,["data"])]),e("div",ve,[t[11]||(t[11]=e("p",{class:"info-label"},"Jynsy",-1)),u(c,{data:r(s).genders,onUpdate:n,"empty-label":"Jyns tapylmady"},null,8,["data"])]),e("div",ge,[t[12]||(t[12]=e("p",{class:"info-label"},"Millet",-1)),u(c,{data:r(s).nationalities,onUpdate:g,"empty-label":"Millet tapylmady"},null,8,["data"])]),e("div",fe,[t[13]||(t[13]=e("p",{class:"info-label"},"Döwlet",-1)),u(c,{data:r(s).countries,onUpdate:i,"empty-label":"Döwlet tapylmady"},null,8,["data"])]),e("div",be,[t[14]||(t[14]=e("p",{class:"info-label"},"Welaýat",-1)),u(c,{data:r(s).regions,onUpdate:T,"empty-label":"Welaýat tapylmady"},null,8,["data"])]),e("div",ke,[t[16]||(t[16]=e("p",{class:"info-label",for:"military-service"},"Harby borç",-1)),L(e("select",{class:"w-full border border-gray-300 rounded-md p-2 focus:outline-none",onChange:V,"onUpdate:modelValue":t[0]||(t[0]=p=>b.value=p)},t[15]||(t[15]=[e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:0},"Saýlanmadyk",-1),e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:1},"Harby borjuny ýerine ýetiren ",-1),e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:2},"Harby borçly",-1)]),544),[[Q,b.value,void 0,{number:!0}]])])]),t[22]||(t[22]=e("div",{class:"h-24"},null,-1))],64))}};export{he as default};
